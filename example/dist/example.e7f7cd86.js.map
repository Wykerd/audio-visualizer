{"version":3,"sources":["../index.js","index.js"],"names":["AudioContext","window","webkitAudioContext","AudioVisualizer","audio","canvas","style","audioElement","audioContext","analyser","createAnalyser","track","createMediaElementSource","connect","destination","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","getByteTimeDomainData","error","console","warn","resume","Promise","resolve","sineWaveOffset","ctx","getContext","back","line","progress","lineWidth","parseInt","clicked","addEventListener","e","mousemoveHandler","touchmoveHandler","x","touches","clientX","offsetLeft","currentTime","Math","floor","duration","clientWidth","preventDefault","clickHandler","init","fillStyle","fillRect","width","height","strokeStyle","beginPath","moveTo","lineTo","stroke","pause","requestAnimationFrame","draw","sliceWidth","i","v","y","paused","modifier","random","randomLength","sin","PI","play","module","exports","require","document","querySelector","screen","audiovisualizer","btn","onclick","then","textContent"],"mappings":"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","file":"example.e7f7cd86.js","sourceRoot":"..","sourcesContent":["const AudioVisualizer = require('../index.js');\n\nconst canvas = document.querySelector('canvas');\ncanvas.width = window.screen.width\n\nconst audiovisualizer = new AudioVisualizer(document.querySelector('audio'), canvas, { back: '#1c2541', line: '#f56476', progress: 'rgba(211, 76, 85, 0.2)' });\n\nconst btn = document.querySelector('button');\nbtn.onclick = () => { audiovisualizer.audioContext.resume().then(() => { audiovisualizer.play(); audiovisualizer.draw(); }) }\n\naudiovisualizer.audioElement.addEventListener(\"play\", () => {\n    btn.onclick = () => audiovisualizer.pause();\n    btn.textContent = 'Pause'\n});\n\naudiovisualizer.audioElement.addEventListener(\"pause\", () => {\n    btn.onclick = () => audiovisualizer.play();\n    btn.textContent = 'Play'\n});","const AudioVisualizer = require('../index.js');\n\nconst canvas = document.querySelector('canvas');\ncanvas.width = window.screen.width\n\nconst audiovisualizer = new AudioVisualizer(document.querySelector('audio'), canvas, { back: '#1c2541', line: '#f56476', progress: 'rgba(211, 76, 85, 0.2)' });\n\nconst btn = document.querySelector('button');\nbtn.onclick = () => { audiovisualizer.audioContext.resume().then(() => { audiovisualizer.play(); audiovisualizer.draw(); }) }\n\naudiovisualizer.audioElement.addEventListener(\"play\", () => {\n    btn.onclick = () => audiovisualizer.pause();\n    btn.textContent = 'Pause'\n});\n\naudiovisualizer.audioElement.addEventListener(\"pause\", () => {\n    btn.onclick = () => audiovisualizer.play();\n    btn.textContent = 'Play'\n});"]}